!> 数据的表示和运算

# 书籍链接
* [书籍链接,52](file:///media/deepin/670B-1B04/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6/%E7%AC%94%E8%AE%B0/%E8%AF%BE%E7%A8%8B/2021%E7%8E%8B%E9%81%93%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86.pdf)

# 数制与编码
1. 计算机使用二进制编码原因
    1. 容易使用物理器件表示,制造成本低.
    2. 二进制的0,1对应逻辑值真假,便于逻辑运算与判断
    3. 二进制编码和运算规则简单
2. 进位计数法(二进制,十进制,十六进制等)
    1. 基数: 每一位所用的不同数码的个数(十进制基数10,每位满10进1)
    2. 位权: 数码所在数位相关的常数(10<sup>2</sup>就是百位的位权)
    3. 3位二进制数码对应1位八进制数码, 4位二进制数码对应1位十六进制数码
3. 进制转换
    1. 二进制转八进制或十六进制(两边补0)  
        小数点左边3个或4个一组,不够3个或4个左边补0, 小数点右边3个或4个一组,不够3个或4个右边补0  
    2. 八进制或十六进制转二进制(两边去0)  
        每位化成3位或4位即可  
    3. 八进制与十六进制互转  
        先变成二进制,再转十六进制  
    4. 二进制,八进制,十六进制转十进制  
        每位数码 x 位权,然后相加  
    5. 十进制转二进制,八进制,十六进制  
        整数部分除基取余法,先低后高, 小数部分乘基取整法, 先高后低  
4. 计算机整数可以连续表示,小数是离散的,不是每个十进制小数都可准确用二进制小数表示(0.3用乘基取整法无法准确表示)
5. 真值: 机器数代表的实际值(真实的值)
6. 机器数: 第一位作为符号位,不作为数值位
7. BCD码: (Binary-Coded Decimal,二进制编码的十进制)4位二进制表示一位十进制,有`8421码`,`余3码`,`2421码`  
    1. 8421码: 有权码(有位权),需修正  
        两个8421码相加大于等于(1010)<sub>2</sub>即10则需加6修正(8421码最高为9)  
    2. 余3码: 无权码,每个8421码在其原值上加3(1010是7)
    3. 2421码: 有权码(权值为2,4,2,1),大于等于5,最高位为1,小于5最高位为0  
8. ASCII码用7位二进制位表示,1字节,共128字符
9. 0到9的ASCII码去掉高三位,低四位即为二进制0到9
10. 汉字用两字节表示,每个字节使用7位
11. 校验码: (检错纠错编码)能够发现或能够自动纠正错误的数据编码.`需要增加冗余码`.如奇偶校验码,汉明码,循环冗余校验码(CRC, Cyclic Redundancy Check)
    1. 奇偶校验码: 码距为2(至少变两个位才可以又是合法的奇校验码或偶校验码)  
        可检验1位错误(奇数位错误),不能检验出错位置,不能检验偶数位错误,增加的冗余位为奇偶校验位  
        常用于存储器数据检查或传输数据检查  
        奇校验码: 整个校验码(有效信息位与校验位)1的个数为奇数  
        偶校验码: 整个校验码(有效信息位与校验位)1的个数为偶数  
    2. 汉明码: 是多重奇偶校验码.可以检验出错位置, 也可以纠正出错位置  
    ```tex
    \displaystyle
    \small
    n是有效信息位数,k是检验位位数  \\
    (1) n + k \leqslant 2^k - 1(检验一位错用k位校验码,检验两位错用k+1位校验码)  \\
    (2) 信息位D_n...D_1,校验位P_k...P_1,海明码H_{n+k}...H_1  \\
    (3) P_i的海明码号 = 2^{i-1},信息位从左到右插入空位置  \\
    (4) 校验时用校验位校验数据位, 选取的校验位海明号之和=数据位海明号  \\
    (5) 校验位值 = 由该校验位校验的数据位异或  \\ 
    (6) 检错和纠错,校验位与校验位校验的信息位异或,由P_i得到S_i, S_k...S_1为0,无措,不为0,是几则第几位出错,直接取反  \\
    ```
    3. 循环冗余校验码(CRC): (N,k)码,K位信息码+R位校验位 = N位校验码  
    ```tex
    \displaystyle
    \small
    生成二项式: 最高幂次R,二进制位数为R+1,(x^3 + 1,二进制数为1001)  \\
    模2除法: 被除数或余数首位为1,商1,从除数下一位异或,首位为0.商0,与0(除数位数个)从除数下一位异或.得到余数位数为除数位数-1  \\
    (1)K位二进制码左移R位,与生成多项式G(x)做模2除法,生成R位校验码,放到信息码后  \\
    (2)接收端用校验码与G(x)做模2除法,无错则整除,不能整除,结果是几,哪位则错误,取反即可  \\
    ```
12. 码距: 两个合法码字最少变化的二进制位数(1011与1001码距为2, 1011与0100码距为4)  
    码距不小于2的数据校验码可以检错  
    纠错理论: 码距越大,检错纠错能力越强,且检错能力大于等于纠错能力

# 定点数的表示与运算
## 定点数的表示
1. 计算机中参与运算的机器数: `无符号数`和`有符号数`
    1. 无符号数: 整个机器数二进制位都是数值位
    2. 有符号数: 机器数的最高位为符号位(0正,1负).可以用`原码`,`反码`,`补码`,`移码`表示  
    ```tex
    \displaystyle
    \small
    X:真值, [X]_原:原码, [X]_反:反码, [X]_补:补码, [X]_移:移码
    ```
2. 机器数定点表示(小数点位置固定)
    1. 定点小数: 小数点位置固定在符号位之后,有效数值最高位之前.是纯小数  
    ```tex
    \displaystyle
    \small
    x_0是0,x_1到x_n为1,所表示的是最大正小数,真值为1-2^{-n}  \\
    x_0是1,x_1到x_n为1,所表示的是最小负小数(原码),真值为-(1-2^{-n})  \\
    ```

    2. 定点整数: 小数点位置固定在有效数值最低位之后,是纯整数
    ```tex
    \displaystyle
    \small
    x_0是0,x_1到x_n为1,所表示的是最大正整数,真值为2^{n} - 1  \\
    x_0是1,x_1到x_n为1,所表示的是最小负整数(原码),真值为-(2^{n} - 1)  \\
    ```
    3. 原码  
    真值0的原码表示不唯一(0<sub>+</sub>: 0.1111111,0<sub>-</sub>: 1.1111111)  
    ```tex
    \displaystyle
    \small
    纯小数原码  \\
    当0 \leqslant x < 1,  原码 = 真值  \\
    当-1 < x \leqslant 0, 原码 = 1 - 真值 = 1 + |真值|  \\
    表示范围为[-(1 - 2^{-n}), 1 - 2^{-n}]  \\
    纯整数原码  \\
    当0 \leqslant x < 2^n, 原码 = 真值  \\
    当-2^n < x \leqslant 0, 原码 = 2^n - 真值 = 2^n + |真值|  \\
    表示范围为[-(2^{n} - 1), 2^{n} - 1]  \\
    ```
    4. 补码  
    原码加减法需要比较真值大小,正负号确定较复杂  
    补码统一使用加法实现  
    补码与原码转换就是正数相同,负数`除符号位取反+1`  
    正数补码与负数补码的转换: `所有位取反+1`  
    补码算术移位:补码连同符号位右移一位,原符号位不变,则实现除2的功能  
    真值0的补码表示唯一(0.000000)
    ```tex
    \displaystyle
    \small
    纯小数补码  \\
    当0 \leqslant x < 1,  补码 = 真值  \\
    当-1 \leqslant x < 0, 补码 = 2 + 真值 = 2 - |真值| \\
    表示范围为[-1, 1-2^{-n}](-1的补码是1.0000000,为10.0000000 - 1.000000)  \\
    纯整数补码  \\
    当0 \leqslant x < 2^n, 补码 = 真值  \\
    当-2^n \leqslant x < 0, 补码 = 2^{n+1} + 真值 = 2^{n+1} - |真值|  \\
    表示范围为[-2^{n}, 2^{n} - 1](-2^n的补码是10000000,为100000000 - 1000000)  \\
    ```  
    变形补码: 模4补码,双符号位(00表示正,11表示负)  
    ```tex
    \displaystyle
    \small
    纯小数模4补码  \\
    当0 \leqslant x < 1,  模4补码 = 真值  \\
    当-1 \leqslant x < 0, 模4补码 = 4 + 真值 = 4 - |真值| \\
    表示范围为[-1, 1-2^{-n}](-1的补码是11.0000000,为100.0000000 - 1.000000)  \\
    ```
    5. 反码  
    真值0的反码表示不唯一(0<sub>+</sub>: 0.1111111,0<sub>-</sub>: 1.1111111)  
    ```tex
    \displaystyle
    \small
    纯小数反码  \\
    当0 \leqslant x < 1,  反码 = 真值  \\
    当-1 < x \leqslant 0, 反码 = 2 - 2^{-n} + 真值 \\
    表示范围为[-(1-2^{-n}), 1-2^{-n}]  \\
    纯整数补码  \\
    当0 \leqslant x < 2^n, 反码 = 真值  \\
    当-2^n \leqslant x < 0, 反码 = 2^{n+1} -1 + 真值  \\
    表示范围为[-(2^{n}-1), 2^{n} - 1]  \\
    ```  
    6. 移码  
    移码被用来表示浮点数的阶码,只表示整数.  
    相当于真值+2<sup>n</sup>  
    真值为0的移码表示唯一  
    真值的补码和移码仅差符号位  
    移码全1是2<sup>n</sup> - 1,移码全0是-2<sup>n</sup>  
    移码保持了真值原有大小顺序,移码大,真值大,移码小,真值小  
    ```tex
    \displaystyle
    \small
    2^{-n} \leqslant x < 2^n, 移码 = 2^n + 真值
    ```